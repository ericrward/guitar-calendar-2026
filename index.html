<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>2026 Calendar</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    .day-btn { transition: background-color 0.15s; }
  </style>
</head>
<body class="min-h-screen bg-slate-50 p-4">
  <h1 class="text-3xl font-bold text-center text-slate-800 mb-2">2026 Calendar</h1>
  <p class="text-center text-slate-500 mb-6 text-sm">Click a day to cycle: unmarked → green → red → unmarked</p>
  
  <div id="calendar" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 max-w-7xl mx-auto"></div>
  
  <div class="flex justify-center gap-6 mt-6 text-sm text-slate-600">
    <div class="flex items-center gap-2">
      <div class="w-4 h-4 rounded bg-emerald-500"></div>
      <span>Green</span>
    </div>
    <div class="flex items-center gap-2">
      <div class="w-4 h-4 rounded bg-red-500"></div>
      <span>Red</span>
    </div>
    <div class="flex items-center gap-2">
      <div class="w-4 h-4 rounded bg-gray-100 border border-gray-300"></div>
      <span>Unmarked</span>
    </div>
  </div>

  <p class="text-center text-slate-400 text-xs mt-4">Your selections are automatically saved</p>

  <script>
    const months = [
      { name: 'January', days: 31, startDay: 4 },
      { name: 'February', days: 28, startDay: 0 },
      { name: 'March', days: 31, startDay: 0 },
      { name: 'April', days: 30, startDay: 3 },
      { name: 'May', days: 31, startDay: 5 },
      { name: 'June', days: 30, startDay: 1 },
      { name: 'July', days: 31, startDay: 3 },
      { name: 'August', days: 31, startDay: 6 },
      { name: 'September', days: 30, startDay: 2 },
      { name: 'October', days: 31, startDay: 4 },
      { name: 'November', days: 30, startDay: 0 },
      { name: 'December', days: 31, startDay: 2 },
    ];

    const weekDays = ['S', 'M', 'T', 'W', 'T', 'F', 'S'];

    // Load saved colors from localStorage
    let dayColors = JSON.parse(localStorage.getItem('calendar2026') || '{}');

    function saveColors() {
      localStorage.setItem('calendar2026', JSON.stringify(dayColors));
    }

    function getColorClasses(color) {
      if (color === 'green') return 'bg-emerald-500 text-white';
      if (color === 'red') return 'bg-red-500 text-white';
      return 'bg-gray-100 hover:bg-gray-200 text-gray-700';
    }

    function handleClick(monthIndex, day) {
      const key = `${monthIndex}-${day}`;
      const current = dayColors[key];
      
      if (!current) {
        dayColors[key] = 'green';
      } else if (current === 'green') {
        dayColors[key] = 'red';
      } else {
        delete dayColors[key];
      }
      
      saveColors();
      updateButton(monthIndex, day);
    }

    function updateButton(monthIndex, day) {
      const key = `${monthIndex}-${day}`;
      const btn = document.getElementById(`day-${key}`);
      const color = dayColors[key];
      
      btn.className = `day-btn aspect-square rounded flex items-center justify-center text-sm font-medium cursor-pointer ${getColorClasses(color)}`;
    }

    function renderCalendar() {
      const container = document.getElementById('calendar');
      
      months.forEach((month, monthIndex) => {
        const monthDiv = document.createElement('div');
        monthDiv.className = 'bg-white rounded-lg shadow-md p-3';
        
        let html = `
          <h2 class="text-lg font-semibold text-slate-700 mb-2 text-center">${month.name}</h2>
          <div class="grid grid-cols-7 gap-1 mb-1">
            ${weekDays.map(d => `<div class="text-center text-xs font-medium text-slate-400 py-1">${d}</div>`).join('')}
          </div>
          <div class="grid grid-cols-7 gap-1">
        `;
        
        // Empty cells for start of month
        for (let i = 0; i < month.startDay; i++) {
          html += `<div class="aspect-square"></div>`;
        }
        
        // Day buttons
        for (let day = 1; day <= month.days; day++) {
          const key = `${monthIndex}-${day}`;
          const color = dayColors[key];
          html += `
            <button 
              id="day-${key}"
              onclick="handleClick(${monthIndex}, ${day})"
              class="day-btn aspect-square rounded flex items-center justify-center text-sm font-medium cursor-pointer ${getColorClasses(color)}"
            >${day}</button>
          `;
        }
        
        html += '</div>';
        monthDiv.innerHTML = html;
        container.appendChild(monthDiv);
      });
    }

    renderCalendar();
  </script>
</body>
</html>
